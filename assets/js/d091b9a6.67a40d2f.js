"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2374],{3905:(t,e,n)=>{n.d(e,{Zo:()=>m,kt:()=>g});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var o=a.createContext({}),p=function(t){var e=a.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):d(d({},e),t)),n},m=function(t){var e=p(t.components);return a.createElement(o.Provider,{value:e},t.children)},k="mdxType",c={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},N=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,o=t.parentName,m=l(t,["components","mdxType","originalType","parentName"]),k=p(n),N=r,g=k["".concat(o,".").concat(N)]||k[N]||c[N]||i;return n?a.createElement(g,d(d({ref:e},m),{},{components:n})):a.createElement(g,d({ref:e},m))}));function g(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,d=new Array(i);d[0]=N;var l={};for(var o in e)hasOwnProperty.call(e,o)&&(l[o]=e[o]);l.originalType=t,l[k]="string"==typeof t?t:r,d[1]=l;for(var p=2;p<i;p++)d[p]=n[p];return a.createElement.apply(null,d)}return a.createElement.apply(null,n)}N.displayName="MDXCreateElement"},2390:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const i={slug:"/file-formats/rsw",title:"RSW"},d=void 0,l={unversionedId:"file-formats/RSW",id:"file-formats/RSW",title:"RSW",description:"This document describes the RSW file format used in the Ragnarok Online client.",source:"@site/docs/file-formats/RSW.md",sourceDirName:"file-formats",slug:"/file-formats/rsw",permalink:"/file-formats/rsw",draft:!1,editUrl:"https://github.com/RagnarokResearchLab/ragnarokresearchlab.github.io/edit/main/docs/file-formats/RSW.md",tags:[],version:"current",frontMatter:{slug:"/file-formats/rsw",title:"RSW"},sidebar:"tutorialSidebar",previous:{title:"RSM (Placeholder)",permalink:"/file-formats/rsm"},next:{title:"SPR",permalink:"/file-formats/spr"}},o={},p=[{value:"Contents",id:"contents",level:2},{value:"Layout",id:"layout",level:2},{value:"Version 1.9",id:"version-19",level:3},{value:"Version 2.1",id:"version-21",level:3},{value:"Water Plane Configuration",id:"water-plane-configuration",level:4},{value:"Lighting Parameters",id:"lighting-parameters",level:4},{value:"Bounding Box",id:"bounding-box",level:4},{value:"Scene Objects",id:"scene-objects",level:4},{value:"3D Models (Animated Props)",id:"3d-models-animated-props",level:5},{value:"Dynamic Light Sources",id:"dynamic-light-sources",level:5},{value:"Spatialized 3D Audio Sources",id:"spatialized-3d-audio-sources",level:5},{value:"Particle Effect Emitters",id:"particle-effect-emitters",level:5},{value:"Quad Tree",id:"quad-tree",level:4},{value:"Quad Tree Range",id:"quad-tree-range",level:5},{value:"Version 2.2",id:"version-22",level:3},{value:"Version 2.3",id:"version-23",level:3},{value:"Version 2.4",id:"version-24",level:3},{value:"Version 2.5",id:"version-25",level:3},{value:"Version 2.6",id:"version-26",level:3},{value:"Version 2.6.162",id:"version-26162",level:3}],m={toc:p},k="wrapper";function c(t){let{components:e,...n}=t;return(0,r.kt)(k,(0,a.Z)({},m,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This document describes the RSW file format used in the Ragnarok Online client."),(0,r.kt)("h2",{id:"contents"},"Contents"),(0,r.kt)("p",null,"RSW files contain the following information:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"References to other files required to render the map (mainly ",(0,r.kt)("a",{parentName:"li",href:"/file-formats/gat"},"GAT")," and ",(0,r.kt)("a",{parentName:"li",href:"/file-formats/gnd"},"GND"),"; the others are only used in ",(0,r.kt)("a",{parentName:"li",href:"/arcturus"},"Arcturus"),")"),(0,r.kt)("li",{parentName:"ul"},"The configuration of scene-wide light sources, as well as decorative game objects that should be placed in the scene"),(0,r.kt)("li",{parentName:"ul"},"In earlier versions they also include a definition of the water plane, which is later stored in the referenced GND file instead"),(0,r.kt)("li",{parentName:"ul"},"A scene graph-like representation of the object hierarchy (tree of bounding boxes), used for intersection queries")),(0,r.kt)("p",null,'RSW is essentially the "scene definition" format used by the game.'),(0,r.kt)("h2",{id:"layout"},"Layout"),(0,r.kt)("p",null,"Newer RSW files may include a third version segment, resulting in a ",(0,r.kt)("inlineCode",{parentName:"p"},"Major.Minor.BuildNumber")," versioning scheme."),(0,r.kt)("h3",{id:"version-19"},"Version 1.9"),(0,r.kt)("p",null,"An older version that's virtually identical to 2.1, but there's no ",(0,r.kt)("inlineCode",{parentName:"p"},"QuadTree")," and audio sources don't have a ",(0,r.kt)("inlineCode",{parentName:"p"},"CycleInterval"),"."),(0,r.kt)("h3",{id:"version-21"},"Version 2.1"),(0,r.kt)("p",null,"This is the original version used for most maps in the original RO client:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Offset"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Length"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Signature")),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},'"GRSW"')," as an ASCII-encoded, fixed-size string")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"MajorVersion")),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},"1"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint8")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Versioning information")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"MinorVersion")),(0,r.kt)("td",{parentName:"tr",align:"center"},"5"),(0,r.kt)("td",{parentName:"tr",align:"center"},"1"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint8")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Versioning information")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"WaterConfiguration")),(0,r.kt)("td",{parentName:"tr",align:"center"},"6"),(0,r.kt)("td",{parentName:"tr",align:"center"},"24"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"WaterPlane")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Configuration of the map's primary water plane (only one)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"LightingParameters")),(0,r.kt)("td",{parentName:"tr",align:"center"},"30"),(0,r.kt)("td",{parentName:"tr",align:"center"},"36"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"LightParams")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Configuration of the map's global (fixed-function) light sources")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"MapBoundaries")),(0,r.kt)("td",{parentName:"tr",align:"center"},"66"),(0,r.kt)("td",{parentName:"tr",align:"center"},"16"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"BoundingBox")),(0,r.kt)("td",{parentName:"tr",align:"center"},"A bounding box containing the entire scene (?)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"SceneObjectsCount")),(0,r.kt)("td",{parentName:"tr",align:"center"},"82"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"int")),(0,r.kt)("td",{parentName:"tr",align:"center"},"The number of ",(0,r.kt)("inlineCode",{parentName:"td"},"(ObjectTypeID, SceneObject)")," pairs to be read")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"SceneObjects")),(0,r.kt)("td",{parentName:"tr",align:"center"},"86"),(0,r.kt)("td",{parentName:"tr",align:"center"},"variable"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"array")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Scene objects of varying types (see tables below)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"QuadTree")),(0,r.kt)("td",{parentName:"tr",align:"center"},"variable"),(0,r.kt)("td",{parentName:"tr",align:"center"},"64k"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"QuadTreeRange")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Scene graph data structure, for culling invisible objects")))),(0,r.kt)("p",null,"Scene objects are effectively a ",(0,r.kt)("inlineCode",{parentName:"p"},"union")," type structure, the contents of which depend on the object type (first ",(0,r.kt)("inlineCode",{parentName:"p"},"struct")," member)."),(0,r.kt)("h4",{id:"water-plane-configuration"},"Water Plane Configuration"),(0,r.kt)("p",null,"This structure is exactly the same as in ",(0,r.kt)("a",{parentName:"p",href:"/file-formats/gnd#water-plane-configuration"},"GND 1.8"),". Only one water plane is supported in this version, however."),(0,r.kt)("h4",{id:"lighting-parameters"},"Lighting Parameters"),(0,r.kt)("p",null,"These define the settings that should be applied to the global light sources, which exist in every scene:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Offset"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Length"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Longitude")),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint32")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Spherical longitude of the directional light source (in degrees)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Latitude")),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint32")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Spherical latitude of the directional light source (in degrees)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"DiffuseRed")),(0,r.kt)("td",{parentName:"tr",align:"center"},"8"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Diffuse red component of the directional light source")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"DiffuseGreen")),(0,r.kt)("td",{parentName:"tr",align:"center"},"12"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Diffuse green component of the directional light source")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"DiffuseBlue")),(0,r.kt)("td",{parentName:"tr",align:"center"},"16"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Diffuse blue component of the directional light source")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"AmbientRed")),(0,r.kt)("td",{parentName:"tr",align:"center"},"20"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Diffuse red component of the ambient light source")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"AmbientGreen")),(0,r.kt)("td",{parentName:"tr",align:"center"},"24"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Diffuse green component of the ambient light source")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"AmbientBlue")),(0,r.kt)("td",{parentName:"tr",align:"center"},"28"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Diffuse blue component of the ambient light source")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"ShadowmapAlpha")),(0,r.kt)("td",{parentName:"tr",align:"center"},"32"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Opacity of the shadowmap (for baking GND lightmap textures)")))),(0,r.kt)("h4",{id:"bounding-box"},"Bounding Box"),(0,r.kt)("p",null,"This was claimed to define the outside bounds of the visible game world, though the data doesn't really make sense:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Offset"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Length"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Top")),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint32")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Purpose unknown; appears to be unused (?)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Bottom")),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint32")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Purpose unknown; appears to be unused (?)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Left")),(0,r.kt)("td",{parentName:"tr",align:"center"},"8"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint32")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Purpose unknown; appears to be unused (?)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Right")),(0,r.kt)("td",{parentName:"tr",align:"center"},"12"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint32")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Purpose unknown; appears to be unused (?)")))),(0,r.kt)("p",null,"More research is needed to determine the meaning of this structure. Might be for internal tools, or used in Arcturus?"),(0,r.kt)("h4",{id:"scene-objects"},"Scene Objects"),(0,r.kt)("p",null,"There are multiple types of decorative scene objects, which are differentiated by a type identifier (first value):"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Offset"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Length"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"ObjectTypeID")),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"int")),(0,r.kt)("td",{parentName:"tr",align:"center"},"One of the supported scene object type identifiers")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"SceneObject")),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},"variable"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"struct")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Layout depends on the object type")))),(0,r.kt)("p",null,"The following object types may be used:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cpp"},"enum {\n    SCENE_OBJECT_TYPE_ANIMATED_PROP = 1,\n    SCENE_OBJECT_TYPE_DYNAMIC_LIGHT_SOURCE = 2,\n    SCENE_OBJECT_TYPE_SPATIAL_AUDIO_SOURCE = 3,\n    SCENE_OBJECT_TYPE_PARTICLE_EFFECT_EMITTER = 4,\n}\n")),(0,r.kt)("h5",{id:"3d-models-animated-props"},"3D Models (Animated Props)"),(0,r.kt)("p",null,"Instances of a given ",(0,r.kt)("a",{parentName:"p",href:"/file-formats/rsm"},"RSM")," model can be placed in the scene and configured according to these parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Offset"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Length"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Name")),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"center"},"40"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Name of this model instance")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"AnimationTypeID")),(0,r.kt)("td",{parentName:"tr",align:"center"},"40"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"int32")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Defines the looping behavior of the model's animation")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"AnimationSpeed")),(0,r.kt)("td",{parentName:"tr",align:"center"},"44"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Animation speed modifier (percentage)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"CollisionFlags")),(0,r.kt)("td",{parentName:"tr",align:"center"},"48"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"int32")),(0,r.kt)("td",{parentName:"tr",align:"center"},'Zero means the object is "solid" (affected by collision checks?)')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"ModelFile")),(0,r.kt)("td",{parentName:"tr",align:"center"},"52"),(0,r.kt)("td",{parentName:"tr",align:"center"},"80"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Name of the RSM file to instantiate")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"NodeName")),(0,r.kt)("td",{parentName:"tr",align:"center"},"132"),(0,r.kt)("td",{parentName:"tr",align:"center"},"80"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Name of the RSM root node to render (?)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionX")),(0,r.kt)("td",{parentName:"tr",align:"center"},"212"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"X coordinate of the instance's world position (translation)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionY")),(0,r.kt)("td",{parentName:"tr",align:"center"},"216"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Y coordinate of the instance's world position (translation)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionZ")),(0,r.kt)("td",{parentName:"tr",align:"center"},"220"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Z coordinate of the instance's world position (translation)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"RotationX")),(0,r.kt)("td",{parentName:"tr",align:"center"},"224"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"X rotation applied to the model instance")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"RotationY")),(0,r.kt)("td",{parentName:"tr",align:"center"},"228"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Y rotation applied to the model instance")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"RotationZ")),(0,r.kt)("td",{parentName:"tr",align:"center"},"232"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Z rotation applied to the model instance")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"ScaleX")),(0,r.kt)("td",{parentName:"tr",align:"center"},"236"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"X scale factor applied to the model instance")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"ScaleY")),(0,r.kt)("td",{parentName:"tr",align:"center"},"240"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Y scale factor applied to the model instance")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"ScaleZ")),(0,r.kt)("td",{parentName:"tr",align:"center"},"244"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Z scale factor applied to the model instance")))),(0,r.kt)("h5",{id:"dynamic-light-sources"},"Dynamic Light Sources"),(0,r.kt)("p",null,"Dynamic lights aren't actually rendered by the client, as their output is baked into the ",(0,r.kt)("a",{parentName:"p",href:"/file-formats/gnd##lightmap-slices"},"lightmaps")," stored in the map's GND file:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Offset"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Length"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Name")),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"center"},"80"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Null-terminated (discard garbage bytes at the end)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionX")),(0,r.kt)("td",{parentName:"tr",align:"center"},"80"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"X coordinate of the light's world position")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionY")),(0,r.kt)("td",{parentName:"tr",align:"center"},"84"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Y coordinate of the light's world position")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionZ")),(0,r.kt)("td",{parentName:"tr",align:"center"},"88"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Z coordinate of the light's world position")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"DiffuseRed")),(0,r.kt)("td",{parentName:"tr",align:"center"},"92"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Red component of the light's diffuse color")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"DiffuseGreen")),(0,r.kt)("td",{parentName:"tr",align:"center"},"96"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Green component of the light's diffuse color")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"DiffuseBlue")),(0,r.kt)("td",{parentName:"tr",align:"center"},"100"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Blue component of the light's diffuse color")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Range")),(0,r.kt)("td",{parentName:"tr",align:"center"},"104"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Light intensity (falloff range), given in world units")))),(0,r.kt)("h5",{id:"spatialized-3d-audio-sources"},"Spatialized 3D Audio Sources"),(0,r.kt)("p",null,"Ambient sound effects (like frogs or flowing water) are emitted by these invisible game objects:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Offset"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Length"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Name")),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"center"},"80"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Null-terminated (discard garbage bytes at the end)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"SoundFile")),(0,r.kt)("td",{parentName:"tr",align:"center"},"80"),(0,r.kt)("td",{parentName:"tr",align:"center"},"80"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Null-terminated (discard garbage bytes at the end)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionX")),(0,r.kt)("td",{parentName:"tr",align:"center"},"160"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"X coordinate of the emitter's world position")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionY")),(0,r.kt)("td",{parentName:"tr",align:"center"},"164"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Y coordinate of the emitter's world position")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionZ")),(0,r.kt)("td",{parentName:"tr",align:"center"},"168"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Z coordinate of the emitter's world position")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"VolumeGain")),(0,r.kt)("td",{parentName:"tr",align:"center"},"172"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Playback volume, given as a percentage in the range of 0 to 1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Width")),(0,r.kt)("td",{parentName:"tr",align:"center"},"176"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint")),(0,r.kt)("td",{parentName:"tr",align:"center"},"The width of the area that emits sound (used for attenuation?)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Height")),(0,r.kt)("td",{parentName:"tr",align:"center"},"180"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint")),(0,r.kt)("td",{parentName:"tr",align:"center"},"The height of the area that emits sound (used for attenuation?)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Range")),(0,r.kt)("td",{parentName:"tr",align:"center"},"184"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Attenuation range (how far sound can be heard), in world units")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"CycleInterval")),(0,r.kt)("td",{parentName:"tr",align:"center"},"188"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Duration of the individual (looping) playback cycles, given in seconds")))),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"CycleInterval")," is not present (i.e., in older RSW versions), it defaults to a duration of 4 seconds."),(0,r.kt)("h5",{id:"particle-effect-emitters"},"Particle Effect Emitters"),(0,r.kt)("p",null,"Particle effects such as bats, smoke, or clouds, can be configured from a number of preset effects:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Offset"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Length"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"Name")),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"center"},"80"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Null-terminated (discard garbage bytes at the end)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionX")),(0,r.kt)("td",{parentName:"tr",align:"center"},"80"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"X coordinate of the emitter's world position")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionY")),(0,r.kt)("td",{parentName:"tr",align:"center"},"84"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Y coordinate of the emitter's world position")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PositionZ")),(0,r.kt)("td",{parentName:"tr",align:"center"},"88"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Z coordinate of the emitter's world position")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"PresetEffectID")),(0,r.kt)("td",{parentName:"tr",align:"center"},"92"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"uint")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Determines which preconfigured effect should be used (see ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/HerculesWS/Hercules/blob/stable/doc/effect_list.md"},"this list"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"EmissionDelay")),(0,r.kt)("td",{parentName:"tr",align:"center"},"96"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"How fast new particles may spawn (in frames; 60 means 1 second)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"LaunchParameterA")),(0,r.kt)("td",{parentName:"tr",align:"center"},"100"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Configures the preset effect (meaning depends on ",(0,r.kt)("inlineCode",{parentName:"td"},"PresetEffectID"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"LaunchParameterB")),(0,r.kt)("td",{parentName:"tr",align:"center"},"104"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Configures the preset effect (meaning depends on ",(0,r.kt)("inlineCode",{parentName:"td"},"PresetEffectID"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"LaunchParameterC")),(0,r.kt)("td",{parentName:"tr",align:"center"},"108"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Configures the preset effect (meaning depends on ",(0,r.kt)("inlineCode",{parentName:"td"},"PresetEffectID"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"LaunchParameterD")),(0,r.kt)("td",{parentName:"tr",align:"center"},"112"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Configures the preset effect (meaning depends on ",(0,r.kt)("inlineCode",{parentName:"td"},"PresetEffectID"),")")))),(0,r.kt)("p",null,"How launch parameters are used needs to be determined on a per-effect basis. Each emitter will process them differently."),(0,r.kt)("h4",{id:"quad-tree"},"Quad Tree"),(0,r.kt)("p",null,"The layout for this data structure corresponds to a fixed-size quad tree with 5 levels, each consisting of four sub-ranges:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Offset"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Length"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"BottomLeftQuadrant")),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"center"},"48"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"QuadTreeRange")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Volume for the area south-west of the previous level's center")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"BottomRightQuadrant")),(0,r.kt)("td",{parentName:"tr",align:"center"},"48"),(0,r.kt)("td",{parentName:"tr",align:"center"},"48"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"QuadTreeRange")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Volume for the area south-east of the previous level's center")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"TopLeftQuadrant")),(0,r.kt)("td",{parentName:"tr",align:"center"},"96"),(0,r.kt)("td",{parentName:"tr",align:"center"},"48"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"QuadTreeRange")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Volume for the area north-west of the previous level's center")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"TopRightQuadrant")),(0,r.kt)("td",{parentName:"tr",align:"center"},"144"),(0,r.kt)("td",{parentName:"tr",align:"center"},"48"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"QuadTreeRange")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Volume for the area north-east of the previous level's center")))),(0,r.kt)("p",null,"Quadrants always exist for each of the upper levels of the hiararchy, but are ",(0,r.kt)("inlineCode",{parentName:"p"},"NULL")," if it's a leaf node (sub-tree at level 5)."),(0,r.kt)("h5",{id:"quad-tree-range"},"Quad Tree Range"),(0,r.kt)("p",null,"Each range defines an axis-aligned bounding box that can be used to store all visible elements in this part of the scene:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Offset"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Length"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"BottomX")),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"X coordinate of the corner at the lowest altitude")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"BottomY")),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Y coordinate of the corner at the lowest altitude")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"BottomZ")),(0,r.kt)("td",{parentName:"tr",align:"center"},"8"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Z coordinate of the corner at the lowest altitude")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"TopX")),(0,r.kt)("td",{parentName:"tr",align:"center"},"12"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"X coordinate of the corner at the highest altitude")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"TopY")),(0,r.kt)("td",{parentName:"tr",align:"center"},"16"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Y coordinate of the corner at the highest altitude")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"TopZ")),(0,r.kt)("td",{parentName:"tr",align:"center"},"20"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Z coordinate of the corner at the highest altitude")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"DiameterX")),(0,r.kt)("td",{parentName:"tr",align:"center"},"24"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Width of the bounding box (when interpreted as a cuboid)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"DiameterY")),(0,r.kt)("td",{parentName:"tr",align:"center"},"28"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Height of the bounding box (when interpreted as a cuboid)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"DiameterZ")),(0,r.kt)("td",{parentName:"tr",align:"center"},"32"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Depth of the bounding box (when interpreted as a cuboid)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"CenterX")),(0,r.kt)("td",{parentName:"tr",align:"center"},"36"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"X coordinate of the point in the exact center of the box")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"CenterY")),(0,r.kt)("td",{parentName:"tr",align:"center"},"40"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Y coordinate of the point in the exact center of the box")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"CenterZ")),(0,r.kt)("td",{parentName:"tr",align:"center"},"44"),(0,r.kt)("td",{parentName:"tr",align:"center"},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"float")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Z coordinate of the point in the exact center of the box")))),(0,r.kt)("h3",{id:"version-22"},"Version 2.2"),(0,r.kt)("p",null,"Changes the file header slightly, adding a ",(0,r.kt)("inlineCode",{parentName:"p"},"BuildNumber")," (in this version, a ",(0,r.kt)("inlineCode",{parentName:"p"},"uint8")," value) after ",(0,r.kt)("inlineCode",{parentName:"p"},"MinorVersion"),"."),(0,r.kt)("h3",{id:"version-23"},"Version 2.3"),(0,r.kt)("p",null,"No superficial changes to the layout have been observed. More research is needed."),(0,r.kt)("h3",{id:"version-24"},"Version 2.4"),(0,r.kt)("p",null,"No superficial changes to the layout have been observed. More research is needed."),(0,r.kt)("h3",{id:"version-25"},"Version 2.5"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"BuildNumber")," is now a ",(0,r.kt)("inlineCode",{parentName:"p"},"uint32")," value. An additional ",(0,r.kt)("inlineCode",{parentName:"p"},"uint8"),", tentatively called ",(0,r.kt)("inlineCode",{parentName:"p"},"UnknownRenderFlag"),", appears immediately afterward."),(0,r.kt)("h3",{id:"version-26"},"Version 2.6"),(0,r.kt)("p",null,"The water plan setup was moved to the GND file. While the ",(0,r.kt)("inlineCode",{parentName:"p"},"BuildNumber")," is 161 or lower, no other changes have been observed."),(0,r.kt)("h3",{id:"version-26162"},"Version 2.6.162"),(0,r.kt)("p",null,"In files using a ",(0,r.kt)("inlineCode",{parentName:"p"},"BuildNumber")," of 162 or higher, the layout for animated props (RSM models) changes slightly:"),(0,r.kt)("p",null,"An unknown byte (seemingly a ",(0,r.kt)("inlineCode",{parentName:"p"},"uint8")," value, possibly a boolean flag) has been added after the ",(0,r.kt)("inlineCode",{parentName:"p"},"CollisionFlags")," field."))}c.isMDXComponent=!0}}]);