"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1353],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>f});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),d=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(r),u=a,f=p["".concat(l,".").concat(u)]||p[u]||m[u]||o;return r?n.createElement(f,i(i({ref:t},c),{},{components:r})):n.createElement(f,i({ref:t},c))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var d=2;d<o;d++)i[d]=r[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},1998:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var n=r(7462),a=(r(7294),r(3905));const o={sidebar_position:2,slug:"/rendering/coordinate-systems",title:"Coordinate Systems"},i=void 0,s={unversionedId:"rendering/coordinate-systems",id:"rendering/coordinate-systems",title:"Coordinate Systems",description:"This document describes the coordinate systems used by the Ragnarok Online client.",source:"@site/docs/rendering/02-coordinate-systems.md",sourceDirName:"rendering",slug:"/rendering/coordinate-systems",permalink:"/rendering/coordinate-systems",draft:!1,editUrl:"https://github.com/RagnarokResearchLab/ragnarokresearchlab.github.io/edit/main/docs/rendering/02-coordinate-systems.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,slug:"/rendering/coordinate-systems",title:"Coordinate Systems"},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/rendering"},next:{title:"Ground Mesh",permalink:"/rendering/ground-mesh"}},l={},d=[{value:"List of Coordinate Systems",id:"list-of-coordinate-systems",level:2},{value:"World Coordinates",id:"world-coordinates",level:2},{value:"Map Coordinates",id:"map-coordinates",level:2},{value:"GND Coordinates",id:"gnd-coordinates",level:2},{value:"RSM Coordinates",id:"rsm-coordinates",level:2},{value:"GR2 Coordinates",id:"gr2-coordinates",level:2}],c={toc:d},p="wrapper";function m(e){let{components:t,...r}=e;return(0,a.kt)(p,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This document describes the coordinate systems used by the Ragnarok Online client."),(0,a.kt)("h2",{id:"list-of-coordinate-systems"},"List of Coordinate Systems"),(0,a.kt)("p",null,"There are multiple different coordinate systems to account for when it comes to rendering the world:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"center"},"Dimension"),(0,a.kt)("th",{parentName:"tr",align:"center"},"Used by"),(0,a.kt)("th",{parentName:"tr",align:"center"},"Origin"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"World Coordinates"),(0,a.kt)("td",{parentName:"tr",align:"center"},"3D"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Renderer (Direct3D?)"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Zero vector (the actual world origin)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"Map Coordinates",(0,a.kt)("sup",{parentName:"td",id:"fnref-1"},(0,a.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1"))),(0,a.kt)("td",{parentName:"tr",align:"center"},"2D"),(0,a.kt)("td",{parentName:"tr",align:"center"},(0,a.kt)("inlineCode",{parentName:"td"},"/where")," command, GAT files"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The map's southwest corner (",(0,a.kt)("em",{parentName:"td"},"not")," the world origin)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"GND Coordinates"),(0,a.kt)("td",{parentName:"tr",align:"center"},"2D"),(0,a.kt)("td",{parentName:"tr",align:"center"},"GND files"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Southwest corner of the map (isomorphic to GAT)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"RSM Coordinates"),(0,a.kt)("td",{parentName:"tr",align:"center"},"3D"),(0,a.kt)("td",{parentName:"tr",align:"center"},"RSM and RSM2 files"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Origin of the model editor's coordinate system",(0,a.kt)("sup",{parentName:"td",id:"fnref-2"},(0,a.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"GR2 Coordinates"),(0,a.kt)("td",{parentName:"tr",align:"center"},"3D"),(0,a.kt)("td",{parentName:"tr",align:"center"},"GR2 files"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Origin of the model editor's coordinate system",(0,a.kt)("sup",{parentName:"td",id:"fnref-2"},(0,a.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2")))))),(0,a.kt)("p",null,(0,a.kt)("sup",{parentName:"p",id:"fnref-1"},(0,a.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1")),' Alternatively, you could call them "GAT Coordinates" because that\'s effectively what they are.'),(0,a.kt)("p",null,(0,a.kt)("sup",{parentName:"p",id:"fnref-2"},(0,a.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2"))," Whatever software the artists used works with a different local origin, which needs to be transformed to world space."),(0,a.kt)("h2",{id:"world-coordinates"},"World Coordinates"),(0,a.kt)("p",null,'The baseline used to define what "world units" actually mean. All dimensions in a rendering engine can be expressed in world units since that is - by definition - the elementary unit of measurement. Using world units has the purpose of allowing you to configure how large objects are in relation to each other, as sizes have no actual meaning if there\'s no frame of reference.'),(0,a.kt)("p",null,"RO's coordinate system is implicit in its various file formats, most of which make reference to it in some form or another:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"GAT tiles are not of unit size (as you might expect), but actually 5 world units large"),(0,a.kt)("li",{parentName:"ul"},"GND surfaces consist of a two-by-two square of GAT tiles, making them 10 world units large (width and height)"),(0,a.kt)("li",{parentName:"ul"},"This proportionality is configurable (see ",(0,a.kt)("a",{parentName:"li",href:"/file-formats/gnd#geometry-scale-factor"},"GND: Geometry Scale Factor"),"), but in practice it's extremely unlikely to ever change"),(0,a.kt)("li",{parentName:"ul"},"When importing ",(0,a.kt)("a",{parentName:"li",href:"/file-formats/rsm"},"RSM")," or ",(0,a.kt)("a",{parentName:"li",href:"/file-formats/gr2"},"GR2")," models, their local (model space) coordinates need to be transformed into world space"),(0,a.kt)("li",{parentName:"ul"},"Sprites and textures seemingly map to GAT tiles at a ratio of 32 pixels per GAT tile (see ",(0,a.kt)("inlineCode",{parentName:"li"},"data/textures/grid.tga"),")")),(0,a.kt)("p",null,'One other oddity is the fact that, in all of these cases, the Y-axis ("height") is negative and the world appears "upside down".'),(0,a.kt)("h2",{id:"map-coordinates"},"Map Coordinates"),(0,a.kt)("p",null,"The coordinates displayed ingame via ",(0,a.kt)("inlineCode",{parentName:"p"},"/where")," slash command refer to the relative position of units on a 2D grid. This grid is centered at the world origin ",(0,a.kt)("inlineCode",{parentName:"p"},"(0, 0, 0)"),", so that the map's bottom left corner lies in a quadrant to the southwest of the origin."),(0,a.kt)("h2",{id:"gnd-coordinates"},"GND Coordinates"),(0,a.kt)("p",null,"These are isomorphic to map (GAT) coordinates, since each ground surface is two tiles large. They aren't really useful unless thinking about water planes: Water (but not lava) is usually tiled with 128px square textures that map directly to the ground."),(0,a.kt)("h2",{id:"rsm-coordinates"},"RSM Coordinates"),(0,a.kt)("p",null,"The coordinate system used by RSM models appears to be markedly different, with the Z and Y axes being swapped."),(0,a.kt)("h2",{id:"gr2-coordinates"},"GR2 Coordinates"),(0,a.kt)("p",null,"GR2 coordinates seem to be similar (or possibly identical) to RSM coordinates, with different scaling."))}m.isMDXComponent=!0}}]);