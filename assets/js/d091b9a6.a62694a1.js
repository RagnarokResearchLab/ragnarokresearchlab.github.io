"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2083],{8900:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>o,frontMatter:()=>s,metadata:()=>d,toc:()=>x});var l=n(4848),i=n(8453);const s={slug:"/file-formats/rsw",title:"RSW"},r=void 0,d={id:"file-formats/RSW",title:"RSW",description:"This document describes the RSW file format used in the Ragnarok Online client.",source:"@site/docs/file-formats/RSW.md",sourceDirName:"file-formats",slug:"/file-formats/rsw",permalink:"/file-formats/rsw",draft:!1,unlisted:!1,editUrl:"https://github.com/RagnarokResearchLab/ragnarokresearchlab.github.io/edit/main/docs/file-formats/RSW.md",tags:[],version:"current",frontMatter:{slug:"/file-formats/rsw",title:"RSW"},sidebar:"tutorialSidebar",previous:{title:"RSM (Placeholder)",permalink:"/file-formats/rsm"},next:{title:"SPR",permalink:"/file-formats/spr"}},c={},x=[{value:"Contents",id:"contents",level:2},{value:"Layout",id:"layout",level:2},{value:"Version 1.9",id:"version-19",level:3},{value:"Version 2.1",id:"version-21",level:3},{value:"Water Plane Configuration",id:"water-plane-configuration",level:4},{value:"Lighting Parameters",id:"lighting-parameters",level:4},{value:"Bounding Box",id:"bounding-box",level:4},{value:"Scene Objects",id:"scene-objects",level:4},{value:"3D Models (Animated Props)",id:"3d-models-animated-props",level:5},{value:"Dynamic Light Sources",id:"dynamic-light-sources",level:5},{value:"Spatialized 3D Audio Sources",id:"spatialized-3d-audio-sources",level:5},{value:"Particle Effect Emitters",id:"particle-effect-emitters",level:5},{value:"Quad Tree",id:"quad-tree",level:4},{value:"Quad Tree Range",id:"quad-tree-range",level:5},{value:"Version 2.2",id:"version-22",level:3},{value:"Version 2.3",id:"version-23",level:3},{value:"Version 2.4",id:"version-24",level:3},{value:"Version 2.5",id:"version-25",level:3},{value:"Version 2.6",id:"version-26",level:3},{value:"Version 2.6.162",id:"version-26162",level:3}];function h(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.p,{children:"This document describes the RSW file format used in the Ragnarok Online client."}),"\n",(0,l.jsx)(t.h2,{id:"contents",children:"Contents"}),"\n",(0,l.jsx)(t.p,{children:"RSW files contain the following information:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:["References to other files required to render the map (mainly ",(0,l.jsx)(t.a,{href:"/file-formats/gat",children:"GAT"})," and ",(0,l.jsx)(t.a,{href:"/file-formats/gnd",children:"GND"}),"; the others are only used in ",(0,l.jsx)(t.a,{href:"/arcturus",children:"Arcturus"}),")"]}),"\n",(0,l.jsx)(t.li,{children:"The configuration of scene-wide light sources, as well as decorative game objects that should be placed in the scene"}),"\n",(0,l.jsx)(t.li,{children:"In earlier versions they also include a definition of the water plane, which is later stored in the referenced GND file instead"}),"\n",(0,l.jsx)(t.li,{children:"A scene graph-like representation of the object hierarchy (tree of bounding boxes), used for intersection queries"}),"\n"]}),"\n",(0,l.jsx)(t.p,{children:'RSW is essentially the "scene definition" format used by the game.'}),"\n",(0,l.jsx)(t.h2,{id:"layout",children:"Layout"}),"\n",(0,l.jsxs)(t.p,{children:["Newer RSW files may include a third version segment, resulting in a ",(0,l.jsx)(t.code,{children:"Major.Minor.BuildNumber"})," versioning scheme."]}),"\n",(0,l.jsx)(t.h3,{id:"version-19",children:"Version 1.9"}),"\n",(0,l.jsxs)(t.p,{children:["An older version that's virtually identical to 2.1, but there's no ",(0,l.jsx)(t.code,{children:"QuadTree"})," and audio sources don't have a ",(0,l.jsx)(t.code,{children:"CycleInterval"}),"."]}),"\n",(0,l.jsx)(t.h3,{id:"version-21",children:"Version 2.1"}),"\n",(0,l.jsx)(t.p,{children:"This is the original version used for most maps in the original RO client:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Signature"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,l.jsx)(t.code,{children:'"GRSW"'})," as an ASCII-encoded, fixed-size string"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"MajorVersion"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"1"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint8"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Versioning information"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"MinorVersion"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"5"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"1"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint8"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Versioning information"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"WaterConfiguration"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"6"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"24"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"WaterPlane"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Configuration of the map's primary water plane (only one)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"LightingParameters"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"30"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"36"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"LightParams"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Configuration of the map's global (fixed-function) light sources"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"MapBoundaries"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"66"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"16"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"BoundingBox"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"A bounding box containing the entire scene (?)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"SceneObjectsCount"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"82"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"int"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["The number of ",(0,l.jsx)(t.code,{children:"(ObjectTypeID, SceneObject)"})," pairs to be read"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"SceneObjects"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"86"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"variable"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"array"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Scene objects of varying types (see tables below)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"QuadTree"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"variable"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"64k"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"QuadTreeRange"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Scene graph data structure, for culling invisible objects"})]})]})]}),"\n",(0,l.jsxs)(t.p,{children:["Scene objects are effectively a ",(0,l.jsx)(t.code,{children:"union"})," type structure, the contents of which depend on the object type (first ",(0,l.jsx)(t.code,{children:"struct"})," member)."]}),"\n",(0,l.jsx)(t.h4,{id:"water-plane-configuration",children:"Water Plane Configuration"}),"\n",(0,l.jsxs)(t.p,{children:["This structure is exactly the same as in ",(0,l.jsx)(t.a,{href:"/file-formats/gnd#water-plane-configuration",children:"GND 1.8"}),". Only one water plane is supported in this version, however."]}),"\n",(0,l.jsx)(t.h4,{id:"lighting-parameters",children:"Lighting Parameters"}),"\n",(0,l.jsx)(t.p,{children:"These define the settings that should be applied to the global light sources, which exist in every scene:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Longitude"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint32"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Spherical longitude of the directional light source (in degrees)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Latitude"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint32"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Spherical latitude of the directional light source (in degrees)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DiffuseRed"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"8"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Diffuse red component of the directional light source"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DiffuseGreen"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"12"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Diffuse green component of the directional light source"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DiffuseBlue"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"16"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Diffuse blue component of the directional light source"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"AmbientRed"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"20"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Diffuse red component of the ambient light source"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"AmbientGreen"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"24"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Diffuse green component of the ambient light source"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"AmbientBlue"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"28"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Diffuse blue component of the ambient light source"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"ShadowmapAlpha"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"32"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Opacity of the shadowmap (for baking GND lightmap textures)"})]})]})]}),"\n",(0,l.jsx)(t.h4,{id:"bounding-box",children:"Bounding Box"}),"\n",(0,l.jsx)(t.p,{children:"This was claimed to define the outside bounds of the visible game world, though the data doesn't really make sense:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Top"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint32"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Purpose unknown; appears to be unused (?)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Bottom"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint32"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Purpose unknown; appears to be unused (?)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Left"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"8"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint32"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Purpose unknown; appears to be unused (?)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Right"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"12"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint32"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Purpose unknown; appears to be unused (?)"})]})]})]}),"\n",(0,l.jsx)(t.p,{children:"More research is needed to determine the meaning of this structure. Might be for internal tools, or used in Arcturus?"}),"\n",(0,l.jsx)(t.h4,{id:"scene-objects",children:"Scene Objects"}),"\n",(0,l.jsx)(t.p,{children:"There are multiple types of decorative scene objects, which are differentiated by a type identifier (first value):"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"ObjectTypeID"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"int"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"One of the supported scene object type identifiers"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"SceneObject"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"variable"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"struct"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Layout depends on the object type"})]})]})]}),"\n",(0,l.jsx)(t.p,{children:"The following object types may be used:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-cpp",children:"enum ObjectTypeID {\n\tSCENE_OBJECT_TYPE_ANIMATED_PROP = 1,\n\tSCENE_OBJECT_TYPE_DYNAMIC_LIGHT_SOURCE = 2,\n\tSCENE_OBJECT_TYPE_SPATIAL_AUDIO_SOURCE = 3,\n\tSCENE_OBJECT_TYPE_PARTICLE_EFFECT_EMITTER = 4,\n}\n"})}),"\n",(0,l.jsx)(t.h5,{id:"3d-models-animated-props",children:"3D Models (Animated Props)"}),"\n",(0,l.jsxs)(t.p,{children:["Instances of a given ",(0,l.jsx)(t.a,{href:"/file-formats/rsm",children:"RSM"})," model can be placed in the scene and configured according to these parameters:"]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Name"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"40"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Name of this model instance"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"AnimationTypeID"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"40"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"int32"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Defines the looping behavior of the model's animation"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"AnimationSpeed"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"44"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Animation speed modifier (percentage)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"CollisionFlags"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"48"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"int32"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:'Zero means the object is "solid" (affected by collision checks?)'})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"ModelFile"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"52"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"80"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Name of the RSM file to instantiate"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"NodeName"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"132"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"80"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Name of the RSM root node to render (?)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionX"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"212"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"X coordinate of the instance's world position (translation)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionY"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"216"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Y coordinate of the instance's world position (translation)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionZ"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"220"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Z coordinate of the instance's world position (translation)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"RotationX"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"224"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"X rotation applied to the model instance"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"RotationY"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"228"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Y rotation applied to the model instance"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"RotationZ"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"232"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Z rotation applied to the model instance"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"ScaleX"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"236"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"X scale factor applied to the model instance"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"ScaleY"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"240"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Y scale factor applied to the model instance"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"ScaleZ"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"244"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Z scale factor applied to the model instance"})]})]})]}),"\n",(0,l.jsxs)(t.p,{children:["The known values for ",(0,l.jsx)(t.code,{children:"AnimationTypeID"})," are:"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-cpp",children:"enum AnimationTypeID {\n\tANIMATION_TYPE_NONE = 0,\n\tANIMATION_TYPE_LOOPING = 2,\n}\n"})}),"\n",(0,l.jsx)(t.p,{children:"Only those types have been observed in the game files, though other modes might be supported."}),"\n",(0,l.jsx)(t.h5,{id:"dynamic-light-sources",children:"Dynamic Light Sources"}),"\n",(0,l.jsxs)(t.p,{children:["Dynamic lights aren't actually rendered by the client, as their output is baked into the ",(0,l.jsx)(t.a,{href:"/file-formats/gnd##lightmap-slices",children:"lightmaps"})," stored in the map's GND file:"]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Name"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"80"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Null-terminated (discard garbage bytes at the end)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionX"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"80"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"X coordinate of the light's world position"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionY"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"84"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Y coordinate of the light's world position"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionZ"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"88"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Z coordinate of the light's world position"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DiffuseRed"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"92"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Red component of the light's diffuse color"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DiffuseGreen"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"96"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Green component of the light's diffuse color"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DiffuseBlue"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"100"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Blue component of the light's diffuse color"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Range"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"104"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Light intensity (falloff range), given in world units"})]})]})]}),"\n",(0,l.jsx)(t.h5,{id:"spatialized-3d-audio-sources",children:"Spatialized 3D Audio Sources"}),"\n",(0,l.jsx)(t.p,{children:"Ambient sound effects (like frogs or flowing water) are emitted by these invisible game objects:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Name"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"80"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Null-terminated (discard garbage bytes at the end)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"SoundFile"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"80"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"80"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Null-terminated (discard garbage bytes at the end)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionX"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"160"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"X coordinate of the emitter's world position"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionY"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"164"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Y coordinate of the emitter's world position"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionZ"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"168"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Z coordinate of the emitter's world position"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"VolumeGain"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"172"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Playback volume, given as a percentage in the range of 0 to 1"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Width"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"176"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"The width of the area that emits sound (used for attenuation?)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Height"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"180"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"The height of the area that emits sound (used for attenuation?)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Range"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"184"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Attenuation range (how far sound can be heard), in world units"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"CycleInterval"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"188"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Duration of the individual (looping) playback cycles, given in seconds"})]})]})]}),"\n",(0,l.jsxs)(t.p,{children:["When ",(0,l.jsx)(t.code,{children:"CycleInterval"})," is not present (i.e., in older RSW versions), it defaults to a duration of 4 seconds."]}),"\n",(0,l.jsx)(t.h5,{id:"particle-effect-emitters",children:"Particle Effect Emitters"}),"\n",(0,l.jsx)(t.p,{children:"Particle effects such as bats, smoke, or clouds, can be configured from a number of preset effects:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Name"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"80"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Null-terminated (discard garbage bytes at the end)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionX"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"80"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"X coordinate of the emitter's world position"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionY"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"84"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Y coordinate of the emitter's world position"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PositionZ"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"88"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Z coordinate of the emitter's world position"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PresetEffectID"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"92"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Determines which preconfigured effect should be used (see ",(0,l.jsx)(t.a,{href:"https://github.com/HerculesWS/Hercules/blob/stable/doc/effect_list.md",children:"this list"}),")"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"EmissionDelay"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"96"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"How fast new particles may spawn (in frames; 60 means 1 second)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"LaunchParameterA"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"100"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Configures the preset effect (meaning depends on ",(0,l.jsx)(t.code,{children:"PresetEffectID"}),")"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"LaunchParameterB"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"104"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Configures the preset effect (meaning depends on ",(0,l.jsx)(t.code,{children:"PresetEffectID"}),")"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"LaunchParameterC"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"108"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Configures the preset effect (meaning depends on ",(0,l.jsx)(t.code,{children:"PresetEffectID"}),")"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"LaunchParameterD"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"112"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Configures the preset effect (meaning depends on ",(0,l.jsx)(t.code,{children:"PresetEffectID"}),")"]})]})]})]}),"\n",(0,l.jsx)(t.p,{children:"How launch parameters are used needs to be determined on a per-effect basis. Each emitter will process them differently."}),"\n",(0,l.jsx)(t.h4,{id:"quad-tree",children:"Quad Tree"}),"\n",(0,l.jsx)(t.p,{children:"The layout for this data structure corresponds to a fixed-size quad tree with 5 levels, each consisting of four sub-ranges:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"BottomLeftQuadrant"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"48"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"QuadTreeRange"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Volume for the area south-west of the previous level's center"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"BottomRightQuadrant"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"48"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"48"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"QuadTreeRange"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Volume for the area south-east of the previous level's center"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"TopLeftQuadrant"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"96"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"48"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"QuadTreeRange"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Volume for the area north-west of the previous level's center"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"TopRightQuadrant"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"144"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"48"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"QuadTreeRange"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Volume for the area north-east of the previous level's center"})]})]})]}),"\n",(0,l.jsxs)(t.p,{children:["Quadrants always exist for each of the upper levels of the hiararchy, but are ",(0,l.jsx)(t.code,{children:"NULL"})," if it's a leaf node (sub-tree at level 5)."]}),"\n",(0,l.jsx)(t.h5,{id:"quad-tree-range",children:"Quad Tree Range"}),"\n",(0,l.jsx)(t.p,{children:"Each range defines an axis-aligned bounding box that can be used to store all visible elements in this part of the scene:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"BottomX"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"X coordinate of the corner at the lowest altitude"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"BottomY"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Y coordinate of the corner at the lowest altitude"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"BottomZ"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"8"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Z coordinate of the corner at the lowest altitude"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"TopX"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"12"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"X coordinate of the corner at the highest altitude"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"TopY"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"16"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Y coordinate of the corner at the highest altitude"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"TopZ"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"20"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Z coordinate of the corner at the highest altitude"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DiameterX"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"24"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Width of the bounding box (when interpreted as a cuboid)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DiameterY"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"28"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Height of the bounding box (when interpreted as a cuboid)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DiameterZ"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"32"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Depth of the bounding box (when interpreted as a cuboid)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"CenterX"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"36"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"X coordinate of the point in the exact center of the box"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"CenterY"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"40"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Y coordinate of the point in the exact center of the box"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"CenterZ"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"44"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Z coordinate of the point in the exact center of the box"})]})]})]}),"\n",(0,l.jsx)(t.h3,{id:"version-22",children:"Version 2.2"}),"\n",(0,l.jsxs)(t.p,{children:["Changes the file header slightly, adding a ",(0,l.jsx)(t.code,{children:"BuildNumber"})," (in this version, a ",(0,l.jsx)(t.code,{children:"uint8"})," value) after ",(0,l.jsx)(t.code,{children:"MinorVersion"}),"."]}),"\n",(0,l.jsx)(t.h3,{id:"version-23",children:"Version 2.3"}),"\n",(0,l.jsx)(t.p,{children:"No superficial changes to the layout have been observed. More research is needed."}),"\n",(0,l.jsx)(t.h3,{id:"version-24",children:"Version 2.4"}),"\n",(0,l.jsx)(t.p,{children:"No superficial changes to the layout have been observed. More research is needed."}),"\n",(0,l.jsx)(t.h3,{id:"version-25",children:"Version 2.5"}),"\n",(0,l.jsxs)(t.p,{children:["The ",(0,l.jsx)(t.code,{children:"BuildNumber"})," is now a ",(0,l.jsx)(t.code,{children:"uint32"})," value. An additional ",(0,l.jsx)(t.code,{children:"uint8"}),", tentatively called ",(0,l.jsx)(t.code,{children:"UnknownRenderFlag"}),", appears immediately afterward."]}),"\n",(0,l.jsx)(t.h3,{id:"version-26",children:"Version 2.6"}),"\n",(0,l.jsxs)(t.p,{children:["The water plan setup was moved to the GND file. While the ",(0,l.jsx)(t.code,{children:"BuildNumber"})," is 161 or lower, no other changes have been observed."]}),"\n",(0,l.jsx)(t.h3,{id:"version-26162",children:"Version 2.6.162"}),"\n",(0,l.jsxs)(t.p,{children:["In files using a ",(0,l.jsx)(t.code,{children:"BuildNumber"})," of 162 or higher, the layout for animated props (RSM models) changes slightly:"]}),"\n",(0,l.jsxs)(t.p,{children:["An unknown byte (seemingly a ",(0,l.jsx)(t.code,{children:"uint8"})," value, possibly a boolean flag) has been added after the ",(0,l.jsx)(t.code,{children:"CollisionFlags"})," field."]})]})}function o(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>d});var l=n(6540);const i={},s=l.createContext(i);function r(e){const t=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),l.createElement(s.Provider,{value:t},e.children)}}}]);