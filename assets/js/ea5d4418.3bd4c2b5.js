"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7417],{5249:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>o,frontMatter:()=>r,metadata:()=>c,toc:()=>h});var l=n(4848),i=n(8453);const r={slug:"/file-formats/grf",title:"GRF"},s=void 0,c={id:"file-formats/GRF",title:"GRF",description:"This document describes the GRF file format used in the Ragnarok Online client.",source:"@site/docs/file-formats/GRF.md",sourceDirName:"file-formats",slug:"/file-formats/grf",permalink:"/file-formats/grf",draft:!1,unlisted:!1,editUrl:"https://github.com/RagnarokResearchLab/ragnarokresearchlab.github.io/edit/main/docs/file-formats/GRF.md",tags:[],version:"current",frontMatter:{slug:"/file-formats/grf",title:"GRF"},sidebar:"tutorialSidebar",previous:{title:"GR2",permalink:"/file-formats/gr2"},next:{title:"IMF (Placeholder)",permalink:"/file-formats/imf"}},d={},h=[{value:"Contents",id:"contents",level:2},{value:"Layout",id:"layout",level:2},{value:"Arcturus (PAK)",id:"arcturus-pak",level:3},{value:"Archive Metadata",id:"archive-metadata",level:4},{value:"File Records",id:"file-records",level:4},{value:"Version 1.2",id:"version-12",level:3},{value:"Version 1.3",id:"version-13",level:3},{value:"Version 2.0",id:"version-20",level:3},{value:"File Table",id:"file-table",level:4},{value:"File Entries",id:"file-entries",level:4},{value:"References",id:"references",level:2}];function x(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.p,{children:"This document describes the GRF file format used in the Ragnarok Online client."}),"\n",(0,l.jsx)(t.h2,{id:"contents",children:"Contents"}),"\n",(0,l.jsx)(t.p,{children:"GRF files are virtual file system containers not unlike ZIP archives. The main features are:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"By streaming game assets more efficiently they may help reduce loading times"}),"\n",(0,l.jsx)(t.li,{children:"Optional support for multiple data compression and encryption schemes"}),"\n",(0,l.jsx)(t.li,{children:"Compressing files greatly reduces the amount of storage space on disk"}),"\n"]}),"\n",(0,l.jsx)(t.p,{children:"The GRF format is closely related to PAK files used in Arcturus, which are an earlier implementation of the same concept."}),"\n",(0,l.jsx)(t.h2,{id:"layout",children:"Layout"}),"\n",(0,l.jsx)(t.h3,{id:"arcturus-pak",children:"Arcturus (PAK)"}),"\n",(0,l.jsx)(t.p,{children:"The PAK file format used in Arcturus is nearly identical to early versions of the GRF format."}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"StorageBytes"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"variable"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"blob"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"The compressed file records (contents of the archive)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"FileRecords"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"variable"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"variable"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"array"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"A list of file records describing the compressed byte storage"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Footer"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"variable"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"ArchiveMetadata"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:'"Header" containing the location and size of the file records list'})]})]})]}),"\n",(0,l.jsx)(t.p,{children:"Due to the large size, this structure shouldn't be read into memory. It's listed purely for illustration purposes."}),"\n",(0,l.jsx)(t.h4,{id:"archive-metadata",children:"Archive Metadata"}),"\n",(0,l.jsxs)(t.p,{children:["The metadata required for reading file records, located at the end of the file (at offset ",(0,l.jsx)(t.code,{children:"EOF - sizeof(ArchiveMetadata)"}),")."]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"StartOffset"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Relative offset (from the start of the file) of the first record"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"NumRecords"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"How many records there are in this archive"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"VersionTag"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"8"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"1"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"byte"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Always ",(0,l.jsx)(t.code,{children:"0x12"})," (decimal: ",(0,l.jsx)(t.code,{children:"18"}),")"]})]})]})]}),"\n",(0,l.jsx)(t.h4,{id:"file-records",children:"File Records"}),"\n",(0,l.jsx)(t.p,{children:"Each record describes where in the archive a given file can be found, and what options to pass to the decompressor."}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"PathStringSize"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"1"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"byte"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Size of the entry's path name (excluding the null terminator)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Type"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"1"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"byte"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,l.jsx)(t.code,{children:"1"}),' for "file" and ',(0,l.jsx)(t.code,{children:"2"}),' for "directory" (?) - needs more research']})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Offset"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"int"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Relative offset (from the start of the archive)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"CompressedSize"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"int"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Size of the compressed buffer area for this file"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DecompressedSize"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"int"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Size of the entry after decompressing the buffer"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"FilePath"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"variable"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Null-terminated C string of size ",(0,l.jsx)(t.code,{children:"PathStringSize + 1"})]})]})]})]}),"\n",(0,l.jsx)(t.h3,{id:"version-12",children:"Version 1.2"}),"\n",(0,l.jsx)(t.p,{children:"This version has been used in at least the fRO client."}),"\n",(0,l.jsx)(t.admonition,{type:"info",children:(0,l.jsx)(t.p,{children:"This section is a placeholder. If you know anything about the topic, please help fill it with content!"})}),"\n",(0,l.jsx)(t.p,{children:"More research is needed on this topic."}),"\n",(0,l.jsx)(t.h3,{id:"version-13",children:"Version 1.3"}),"\n",(0,l.jsx)(t.p,{children:"This version has been used in at least the 2003 iRO Beta client."}),"\n",(0,l.jsx)(t.admonition,{type:"info",children:(0,l.jsx)(t.p,{children:"This section is a placeholder. If you know anything about the topic, please help fill it with content!"})}),"\n",(0,l.jsx)(t.p,{children:"More research is needed on this topic."}),"\n",(0,l.jsx)(t.h3,{id:"version-20",children:"Version 2.0"}),"\n",(0,l.jsx)(t.p,{children:"This is the GRF version used in the latest kRO client, as well as regional clients dating back to at least 2004."}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Signature"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"15"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Always ",(0,l.jsx)(t.code,{children:'"Master of Magic"'})," (fixed-size, ",(0,l.jsx)(t.em,{children:"without"})," a null-terminator)"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"EncryptionKey"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"15"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"15"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"string"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Array of ",(0,l.jsx)(t.code,{children:"byte"})," values; all zeroes if encryption isn't used (default)"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"FileTableOffset"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"30"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Where the file table is stored (relative to the start of the file)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"ScramblingSeed"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"34"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Seemingly used for obfuscating the contents of the archive"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"ScrambledFileCount"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"38"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Subtract ",(0,l.jsx)(t.code,{children:"ScramblingSeed"})," and ",(0,l.jsx)(t.code,{children:"7"})," to compute the real ",(0,l.jsx)(t.code,{children:"FileCount"})]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Version"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"42"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Encodes the version in major.minor format (two bytes each)"})]})]})]}),"\n",(0,l.jsx)(t.h4,{id:"file-table",children:"File Table"}),"\n",(0,l.jsxs)(t.p,{children:["This is the manifest of the archive, stored at an arbitrary position in the file (defined by ",(0,l.jsx)(t.code,{children:"FileTableOffset"}),")."]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"CompressedSize"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Compressed size of the file table (list of file entries)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DecompressedSize"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Size of the file table after decompressing it"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"CompressedRecordHeaders"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"8"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"variable"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"blob"})}),(0,l.jsxs)(t.td,{style:{textAlign:"center"},children:["Compressed buffer (use zlib's ",(0,l.jsx)(t.code,{children:"inflate"})," to decompress)"]})]})]})]}),"\n",(0,l.jsx)(t.p,{children:"These parameters all have to be passed to the decompressor in order to unpack the list of file records."}),"\n",(0,l.jsx)(t.h4,{id:"file-entries",children:"File Entries"}),"\n",(0,l.jsxs)(t.p,{children:["After unpacking the ",(0,l.jsx)(t.code,{children:"CompressedRecordHeaders"}),' buffer, you\'ll get a list of these file records ("headers").']}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Field"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Offset"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Length"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Type"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"CompressedSize"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"0"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"How large the compressed file contents are (zlib parameter)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"ByteAlignedSize"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"How many bytes to actually read (padded to next 8-byte boundary)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"DecompressedSize"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"8"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Size of the actual file contents (another zlib parameter)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Type"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"12"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"1"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"byte"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Whether the file is stored raw, compressed, or encrypted (?)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"Offset"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"13"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"uint"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Where in the archive the compressed file contents can be found"})]})]})]}),"\n",(0,l.jsxs)(t.p,{children:["You can pass the compressed/aligned buffer to zlib's ",(0,l.jsx)(t.code,{children:"inflate"})," to unpack a given file."]}),"\n",(0,l.jsx)(t.h2,{id:"references",children:"References"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:"https://rathena.org/board/topic/57175-description-of-the-grf-file-format/",children:"An older description of the GRF 2.0 format (written by Tiera)"})}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"/tools/#euc-kr-path-conversion",children:"Example code for the EUC-KR path conversion"})," (using JavaScript/NodeJS)"]}),"\n"]})]})}function o(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(x,{...e})}):x(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>c});var l=n(6540);const i={},r=l.createContext(i);function s(e){const t=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),l.createElement(r.Provider,{value:t},e.children)}}}]);